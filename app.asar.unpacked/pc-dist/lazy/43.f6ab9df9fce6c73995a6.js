(this.webpackJsonp=this.webpackJsonp||[]).push([[43],{"2CG1":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),o=r.n(n),a=r("PGI9"),l=r("N1xz");var c=e=>{const{safeFpsGap:t}=e||{},{isEnabled:r}=Object(a.a)(),[o,c]=Object(n.useState)(!1),[s,i]=Object(n.useState)({}),d=Object(n.useRef)();return{isRecording:o,state:s,start:Object(n.useCallback)((()=>{if(!r)return;c(!0),d.current&&d.current.end();const e=l.a.UIManager.getFpsFallingRecorder({safeFpsGap:t});e.onData((e=>{i(e)})),e.start(),d.current=e}),[r,t]),end:Object(n.useCallback)((()=>{var e;if(r)return c(!1),i({}),(null===(e=d.current)||void 0===e?void 0:e.end())||void 0}),[r])}},s=r("dFSO"),i=r("6Be5");const d=Object(n.memo)((()=>{const{isRecording:e,start:t,end:r}=c(),{containerStyle:a,btnStyle:l,contentStyle:d}={containerStyle:Object(n.useMemo)((()=>({display:"flex",flexDirection:"column",fontSize:"90%"})),[]),btnStyle:Object(n.useMemo)((()=>({padding:"1px 4px",border:"none",backgroundColor:"rgb(255 255 255 / 14%)",color:"white",borderRadius:"2px",cursor:"pointer"})),[]),contentStyle:Object(n.useMemo)((()=>({overflow:"hidden",textOverflow:"ellipsis",maxHeight:"16px",textAlign:"center"})),[])},[u,p]=Object(n.useState)();Object(n.useEffect)((()=>()=>{e&&r()}),[e,r]);const b=Object(n.useCallback)((n=>{if(n.stopPropagation(),e){const e=r();p(e)}else p(void 0),t()}),[e,t,r]);return o.a.createElement("div",{style:a},o.a.createElement("button",{style:l,onClick:b},e?"Stop":"Record"),null!=(null==u?void 0:u.lowestDrop)&&(null==u?void 0:u.recoverTime)&&o.a.createElement(i.a,{arrow:!0,placement:"right-center",title:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,"Lowest drop: ",u.lowestDrop," FPS"),o.a.createElement("div",null,"Recover time: ",Object(s.f)(u.recoverTime,1)),o.a.createElement("div",null,"Before drop: ",u.beforeDrop," FPS"),o.a.createElement("div",null,"After recover: ",u.afterRecover," FPS"),o.a.createElement("div",null,"Start time: ",u.startAt),o.a.createElement("div",null,"End time: ",u.endAt)),positionMode:"anchor"},o.a.createElement("span",{style:d},"drop: ",u.lowestDrop)))}));t.default=d}}]);
//# sourceMappingURL=../sourcemaps/lazy/43.f6ab9df9fce6c73995a6.js.map