(this.webpackJsonp=this.webpackJsonp||[]).push([[37],{Ds0a:function(e,t,n){"use strict";n.r(t);var a=n("VTBJ"),o=n("q1tI"),s=n.n(o),r=n("9Ht6"),i=n("l4dk"),l=n("PGI9");var c=()=>{const{isEnabled:e}=Object(l.a)(),t=Object(r.useRecoilValue)(i.a),n=Object(o.useMemo)((()=>t.fpsColumns.length>16?t.fpsColumns.slice(t.fpsColumns.length-16):t.fpsColumns),[t.fpsColumns]);return Object(a.a)(Object(a.a)({},t),{},{fpsColumns:n,isEnabled:e})};var u=e=>{const{width:t,height:n,columns:a,isRecorderOpen:s}=e;return{containerStyle:Object(o.useMemo)((()=>({zIndex:9999,position:"relative",width:t,height:n,padding:"2px 8px",backgroundColor:"rgba(14, 31, 115, 0.5)",color:"rgb(116, 242, 255)",fontSize:"12px",boxSizing:"border-box"})),[t,n]),graphStyle:Object(o.useMemo)((()=>({position:"absolute",left:"8px",right:"8px",bottom:"8px",height:s?n-42:n-30,backgroundColor:"rgba(14, 31, 115, 0.45)",overflow:"hidden",transition:"height .3s ease"})),[n,s]),getBarStyle:Object(o.useCallback)(((e,t)=>({position:"absolute",bottom:"0",right:4*(a-1-t)+"px",width:"4px",height:((s?n-42:n-30)-2)*e,backgroundColor:"rgba(116, 242, 255, 0.7)",MozBoxSizing:"border-box",boxSizing:"border-box",transition:"height .05s ease"})),[a,s])}},g=n("N1xz"),b=n("igRa");const p=s.a.lazy((()=>n.e(43).then(n.bind(null,"2CG1")))),d=Object(o.memo)((e=>{const{width:t=64,height:n=64}=e,{isEnabled:r,fps:i,maxFps:l,fpsColumns:d}=c(),[h,f]=Object(o.useState)(!1),{containerStyle:m,graphStyle:O,getBarStyle:x}=u({width:t,height:n,columns:d.length,isRecorderOpen:h});return Object(o.useEffect)((()=>{const e=e=>{f(e)};var t;r&&(g.a.UIManager.on(b.a.TOGGLE_FPS_FALLING,e),f(!(null===(t=g.a.UIManager.Tool)||void 0===t||!t.isOpen())));return()=>{g.a.UIManager.removeListener(b.a.TOGGLE_FPS_FALLING,e)}}),[r]),r?s.a.createElement("div",{style:m},h?s.a.createElement(s.a.Suspense,{fallback:null},s.a.createElement(p,null)):s.a.createElement("span",null,i," FPS"),s.a.createElement("div",{style:O},d.map(((e,t)=>s.a.createElement("div",{key:t,style:Object(a.a)({},x(e/l,t))}))))):null}));t.default=d},PGI9:function(e,t,n){"use strict";var a=n("q1tI"),o=n("N1xz"),s=n("KBA3");t.a=()=>{const[e,t]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{const e=()=>{const e=s.a.getConfig().enable_for_staging_account,n=s.a.getConfig().staging_account,a=s.a.getConfig().enable_fps_monitor||s.a.getConfig().enable_fps_monitor_v2,r=!!o.a.UIManager.getRegisteredFpsMonitor()&&(s.a.enable&&a||e&&n);t(r)};return e(),s.a.on("staging_account",e),()=>{s.a.removeListener("staging_account",e)}}),[]),{isEnabled:e}}},l4dk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("9Ht6");const o=Object(a.atom)({key:"metricz/fps",default:{fps:0,avgFps:0,maxFps:0,fpsColumns:[]}})}}]);
//# sourceMappingURL=../sourcemaps/lazy/37.c5e940a22d3b4b27100a.js.map